{"version":3,"file":"Register-64899bed.js","sources":["../../src/views/Register.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>智能社区服务平台</h1>\n    <div class=\"nav-buttons\">\n      <router-link to=\"/login\" class=\"btn btn-secondary\">登录</router-link>\n      <button class=\"btn btn-primary\">注册</button>\n    </div>\n    \n    <!-- 注册表单 -->\n    <div class=\"form-container\">\n      <h2>用户注册</h2>\n      <form @submit.prevent=\"handleRegister\">\n        <div class=\"form-group\">\n          <label for=\"username\">用户名</label>\n          <input type=\"text\" id=\"username\" v-model=\"registerForm.username\" placeholder=\"请输入用户名\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">密码</label>\n          <input type=\"password\" id=\"password\" v-model=\"registerForm.password\" placeholder=\"请输入密码\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"realName\">真实姓名</label>\n          <input type=\"text\" id=\"realName\" v-model=\"registerForm.realName\" placeholder=\"请输入真实姓名\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"phone\">手机号码</label>\n          <input type=\"tel\" id=\"phone\" v-model=\"registerForm.phone\" placeholder=\"请输入手机号码\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">邮箱</label>\n          <input type=\"email\" id=\"email\" v-model=\"registerForm.email\" placeholder=\"请输入邮箱\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"role\">用户角色</label>\n          <select id=\"role\" v-model=\"registerForm.role\" required>\n            <option value=\"\">请选择角色</option>\n            <option value=\"resident\">居民</option>\n            <option value=\"property_admin\">物业管理员</option>\n            <option value=\"service_provider\">服务商</option>\n          </select>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\" style=\"width: 100%; margin-bottom: 1rem;\">注册</button>\n        <div v-if=\"message\" :class=\"['message', messageType]\">{{ message }}</div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      registerForm: {\n        username: '',\n        password: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: ''\n      },\n      message: '',\n      messageType: ''\n    }\n  },\n  methods: {\n    handleRegister() {\n      // 验证角色选择\n      if (!this.registerForm.role) {\n        this.message = '请选择用户角色！'\n        this.messageType = 'error'\n        return\n      }\n      \n      // 发送注册请求\n      fetch('/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.registerForm)\n      })\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        } else {\n          return response.text().then(text => {\n            throw new Error(text || '注册失败')\n          })\n        }\n      })\n      .then(data => {\n        this.message = '注册成功！您的用户ID是：' + data.userId\n        this.messageType = 'success'\n        \n        // 清空表单\n        this.registerForm = {\n          username: '',\n          password: '',\n          realName: '',\n          phone: '',\n          email: '',\n          role: ''\n        }\n        \n        // 自动切换到登录页面\n        setTimeout(() => {\n          this.$router.push('/login')\n        }, 1500)\n      })\n      .catch(error => {\n        this.message = '注册失败：' + error.message\n        this.messageType = 'error'\n      })\n    }\n  }\n}\n</script>"],"names":["_sfc_main","response","text","data","error","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_openBlock","_createElementBlock","_cache","_createElementVNode","_createVNode","_component_router_link","$options","args","$event","$data","_vModelText","_vModelSelect"],"mappings":"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"}