import{_ as P,j as C,o as a,c as l,a as t,g as f,t as m,f as v,e as y,v as _,F as g,i as p,h as w,n as k,k as I}from"./index-1ef266be.js";import{a as h}from"./api-5fa05d82.js";const b={name:"ResidentCommunity",data(){return{userAvatar:"data:image/svg+xml;charset=UTF-8,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2250%22 height%3D%2250%22 viewBox%3D%220 0 50 50%22%3E%3Ccircle cx%3D%2225%22 cy%3D%2225%22 r%3D%2225%22 fill%3D%22%234CAF50%22%2F%3E%3Ctext x%3D%2225%22 y%3D%2235%22 font-family%3D%22Arial%22 font-size%3D%2230%22 text-anchor%3D%22middle%22 fill%3D%22white%22%3Eüë§%3C%2Ftext%3E%3C%2Fsvg%3E",userId:parseInt(this.getLocalStorageItem("userId")||"0"),newPost:{content:"",privacy:"public",images:[],tagIds:[],visibleUserIds:[]},selectedTagId:"",selectedUserId:"",tags:[],residents:[],posts:[],page:1,pageSize:10,hasMorePosts:!0,currentFilter:"all",filters:[{value:"all",label:"ÂÖ®ÈÉ®"},{value:"time",label:"ÊúÄÊñ∞"},{value:"popularity",label:"ÁÉ≠Èó®"}],searchKeyword:"",openCommentsPostId:null,comments:{},loadingComments:new Set,newComment:{content:""},likedPosts:new Set,notifications:[],unreadNotifications:0,showNotificationModal:!1,pollingTimer:null,pollingInterval:1e4}},mounted(){this.loadTags(),this.loadResidents(),this.loadTimeline(),this.loadNotifications(),this.startPolling()},beforeUnmount(){this.stopPolling()},methods:{getLocalStorageItem(i){return typeof localStorage<"u"?localStorage.getItem(i):null},startPolling(){this.pollingTimer&&clearInterval(this.pollingTimer),this.pollingTimer=setInterval(()=>{this.pollForUpdates()},this.pollingInterval)},stopPolling(){this.pollingTimer&&(clearInterval(this.pollingTimer),this.pollingTimer=null)},async pollForUpdates(){await this.checkNewNotifications(),this.currentFilter==="all"&&this.page===1&&await this.checkNewPosts()},async checkNewNotifications(){try{const s=(await h("/community/notifications?page=1&pageSize=10")).data,o=this.unreadNotifications,c=s.filter(n=>!n.isRead).length;this.notifications=s,this.unreadNotifications=c,c>o&&console.log(`Êî∂Âà∞ ${c-o} Êù°Êñ∞ÈÄöÁü•`)}catch(i){console.error("Ê£ÄÊü•Êñ∞ÈÄöÁü•Â§±Ë¥•:",i)}},async checkNewPosts(){try{const s=(await h("/community/timeline?page=1&pageSize=10")).data;if(s.length>0&&this.posts.length>0){const o=this.posts[0].id,c=[];for(const n of s)n.id>o&&c.push(n);c.length>0&&(c.reverse().forEach(n=>{this.posts.unshift(n),this.checkLikeStatus(n.id)}),console.log(`Êî∂Âà∞ ${c.length} Êù°Êñ∞Âä®ÊÄÅ`))}}catch(i){console.error("Ê£ÄÊü•Êñ∞Âä®ÊÄÅÂ§±Ë¥•:",i)}},async loadTags(){try{const i=await h("/community/tags");this.tags=i.data}catch(i){console.error("Âä†ËΩΩÊ†áÁ≠æÂ§±Ë¥•:",i)}},async loadResidents(){try{const i=await h("/residents");this.residents=Array.isArray(i.data)?i.data:[]}catch(i){console.error("Âä†ËΩΩÂ±ÖÊ∞ëÂàóË°®Â§±Ë¥•:",i),this.residents=[]}},async loadTimeline(){try{let i=`/community/timeline?page=${this.page}&pageSize=${this.pageSize}`;this.currentFilter==="time"?i=`/community/filter/time?timeRange=latest&page=${this.page}&pageSize=${this.pageSize}`:this.currentFilter==="popularity"&&(i=`/community/filter/popularity?page=${this.page}&pageSize=${this.pageSize}`);const o=(await h(i)).data;o.length<this.pageSize&&(this.hasMorePosts=!1),console.log("‰ªéÂêéÁ´ØËøîÂõûÁöÑposts:",o),o.forEach(c=>{console.log("post.id:",c.id,"Á±ªÂûã:",typeof c.id)}),this.posts=[...this.posts,...o],o.forEach(c=>{this.checkLikeStatus(c.id)}),this.page++}catch(i){console.error("Âä†ËΩΩÊó∂Èó¥Á∫øÂ§±Ë¥•:",i)}},loadMorePosts(){this.loadTimeline()},async handleImageUpload(i){const s=i.target.files;if(s.length!==0)for(let o=0;o<s.length;o++){const c=new FormData;c.append("image",s[o]);try{const n=await C.post("http://localhost:8080/backend/api/community/upload",c,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${this.getLocalStorageItem("token")}`}});this.newPost.images.push(n.data.data)}catch(n){console.error("‰∏ä‰º†ÂõæÁâáÂ§±Ë¥•:",n)}}},removeImage(i){this.newPost.images.splice(i,1)},addTag(){this.selectedTagId&&!this.newPost.tagIds.includes(parseInt(this.selectedTagId))&&(this.newPost.tagIds.push(parseInt(this.selectedTagId)),this.selectedTagId="")},addVisibleUser(){var i;this.selectedUserId&&!((i=this.newPost.visibleUserIds)!=null&&i.includes(parseInt(this.selectedUserId)))&&(this.newPost.visibleUserIds||(this.newPost.visibleUserIds=[]),this.newPost.visibleUserIds.push(parseInt(this.selectedUserId)),this.selectedUserId="")},removeVisibleUser(i){this.newPost.visibleUserIds&&(this.newPost.visibleUserIds=this.newPost.visibleUserIds.filter(s=>s!==i))},async publishPost(){if(this.newPost.content.trim())try{const i=await h("/community/publish","POST",this.newPost);this.posts.unshift(i.data),this.newPost={content:"",privacy:"public",images:[],tagIds:[],visibleUserIds:[]}}catch(i){console.error("ÂèëÂ∏ÉÂä®ÊÄÅÂ§±Ë¥•:",i)}},async toggleLike(i){try{const s=parseInt(i);if(isNaN(s)){console.error("Êó†ÊïàÁöÑpostId:",i);return}if(await h(`/community/like/${s}`,"POST"),this.likedPosts.has(s)){this.likedPosts.delete(s);const o=this.posts.find(c=>c.id===s);o&&o.likeCount--}else{this.likedPosts.add(s);const o=this.posts.find(c=>c.id===s);o&&o.likeCount++}}catch(s){console.error("ÁÇπËµûÊìç‰ΩúÂ§±Ë¥•:",s)}},async checkLikeStatus(i){try{const s=parseInt(i);if(isNaN(s)){console.error("Êó†ÊïàÁöÑpostId:",i);return}(await h(`/community/like/${s}`)).data&&this.likedPosts.add(s)}catch(s){console.error("Ê£ÄÊü•ÁÇπËµûÁä∂ÊÄÅÂ§±Ë¥•:",s)}},isLiked(i){return this.likedPosts.has(parseInt(i))},showComments(i){this.openCommentsPostId===i?this.openCommentsPostId=null:(this.openCommentsPostId=i,this.loadComments(i))},async loadComments(i){const s=parseInt(i);if(isNaN(s)){console.error("Âä†ËΩΩËØÑËÆ∫Â§±Ë¥•: Êó†ÊïàÁöÑpostId:",i);return}try{this.loadingComments.add(s),console.log(`Ê≠£Âú®Âä†ËΩΩÂ∏ñÂ≠ê ${s} ÁöÑËØÑËÆ∫`);const o=await h(`/community/post/comments/${s}`);Array.isArray(o.data)?(this.comments[s]=o.data,console.log(`ÊàêÂäüÂä†ËΩΩÂ∏ñÂ≠ê ${s} ÁöÑËØÑËÆ∫ÔºåÂÖ± ${o.data.length} Êù°`)):console.error("Âä†ËΩΩËØÑËÆ∫Â§±Ë¥•: Êó†ÊïàÁöÑËØÑËÆ∫Êï∞ÊçÆÊ†ºÂºè:",o.data)}catch(o){console.error(`Âä†ËΩΩÂ∏ñÂ≠ê ${s} ÁöÑËØÑËÆ∫Â§±Ë¥•:`,o||"Êú™Áü•ÈîôËØØ"),o.response?(console.error("HTTPÁä∂ÊÄÅ:",o.response.status),o.response.status===401?console.error("Êú™ÊéàÊùÉËÆøÈóÆÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï"):o.response.status===404?console.error("ËØ∑Ê±ÇÁöÑËØÑËÆ∫‰∏çÂ≠òÂú®"):console.error("ÊúçÂä°Âô®ÈîôËØØ:",o.response.data||"Êú™Áü•ÈîôËØØ")):o.request?console.error("ÊúçÂä°Âô®Êó†ÂìçÂ∫îÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÊàñÊúçÂä°Âô®Áä∂ÊÄÅ"):console.error("ËØ∑Ê±ÇÈîôËØØ:",o.message||"Êú™Áü•ÈîôËØØ")}finally{this.loadingComments.delete(s),console.log(`Â∏ñÂ≠ê ${s} ÁöÑËØÑËÆ∫Âä†ËΩΩÂÆåÊàêÊàñÂ§±Ë¥•`)}},async addComment(i){const s=this.newComment.content.trim();if(s)try{const o=parseInt(i);if(isNaN(o)){console.error("Êó†ÊïàÁöÑpostId:",i),console.error("Êó†ÊïàÁöÑÂ∏ñÂ≠êID");return}const c=await h(`/community/comment/${o}`,"POST",{content:s});this.comments[o]||(this.comments[o]=[]),this.comments[o].push(c.data);const n=this.posts.find(r=>r.id===o);n&&n.commentCount++,this.newComment.content=""}catch(o){console.error("Ê∑ªÂä†ËØÑËÆ∫Â§±Ë¥•:",o||"Êú™Áü•ÈîôËØØ")}},getPostComments(i){const s=parseInt(i);return this.comments[s]||[]},setFilter(i){this.currentFilter=i,this.page=1,this.posts=[],this.hasMorePosts=!0,this.loadTimeline()},handleSearch(){if(!this.searchKeyword.trim()){this.page=1,this.posts=[],this.hasMorePosts=!0,this.loadTimeline();return}this.searchPosts()},async searchPosts(){try{const i=await h(`/community/search?keyword=${this.searchKeyword}&page=1&pageSize=${this.pageSize}`);this.posts=i.data,this.hasMorePosts=i.data.length===this.pageSize}catch(i){console.error("ÊêúÁ¥¢Âä®ÊÄÅÂ§±Ë¥•:",i)}},async filterByTag(i){try{const s=await h(`/community/tags/${i}?page=1&pageSize=${this.pageSize}`);this.posts=s.data,this.hasMorePosts=s.data.length===this.pageSize}catch(s){console.error("ÊåâÊ†áÁ≠æÁ≠õÈÄâÂ§±Ë¥•:",s)}},async loadNotifications(){try{const i=await h("/community/notifications");this.notifications=i.data,this.unreadNotifications=this.notifications.filter(s=>!s.isRead).length}catch(i){console.error("Âä†ËΩΩÈÄöÁü•Â§±Ë¥•:",i)}},showNotification(){this.showNotificationModal=!0},async markNotificationAsRead(i){try{await h(`/community/notification/read/${i}`,"POST");const s=this.notifications.find(o=>o.id===i);s&&(s.isRead=!0,this.unreadNotifications--)}catch(s){console.error("Ê†áËÆ∞ÈÄöÁü•Â∑≤ËØªÂ§±Ë¥•:",s)}},getUserName(i,s){if(s&&s.user&&s.user.realName)return s.user.realName;if(!Array.isArray(this.residents))return"Áî®Êà∑";const o=this.residents.find(c=>c.id===i);return o&&(o.realName||o.name)||"Áî®Êà∑"},formatTime(i){if(!i)return"";const s=new Date(i),c=new Date-s,n=Math.floor(c/(1e3*60)),r=Math.floor(c/(1e3*60*60)),e=Math.floor(c/(1e3*60*60*24));return n<60?`${n}ÂàÜÈíüÂâç`:r<24?`${r}Â∞èÊó∂Ââç`:`${e}Â§©Ââç`},goHome(){this.$router.push("/resident")},getPrivacyText(i){return i==="public"?"ÂÖ¨ÂºÄ":"ÊåáÂÆöÁî®Êà∑ÂèØËßÅ"}}},N={class:"community-container"},T={class:"community-header"},U={class:"header-left"},S={class:"header-actions"},A={key:0,class:"notification-badge"},F={class:"post-create"},D={class:"user-avatar"},x=["src"],z={class:"post-form"},M={key:0,class:"image-preview-container"},V=["src"],R=["onClick"],L={class:"post-actions"},E={class:"upload-btn"},K={class:"tag-selector"},B=["value"],H={class:"privacy-setting"},O={key:0,class:"user-selector"},q=["value"],j={key:0,class:"selected-users"},G=["onClick"],J={class:"filter-bar"},Q={class:"filter-options"},W=["onClick"],X={class:"search-box"},Y={class:"post-list"},Z={class:"post-header"},$={class:"post-user"},ss={class:"user-avatar"},es=["src"],ts={class:"user-info"},is={class:"user-name"},os={class:"post-time"},ns=["title"],rs={class:"post-content"},as={key:0,class:"post-images"},ls=["src"],cs={key:1,class:"post-tags"},ds=["onClick"],ms={class:"post-stats"},hs={class:"stat-item"},us={class:"stat-item"},gs={class:"stat-item"},ps={class:"post-actions"},vs=["onClick"],fs=["onClick"],ys={key:2,class:"comments-section"},_s={key:0,class:"comment-list"},ws={class:"comment-avatar"},ks=["src"],Ps={class:"comment-content"},Cs={class:"comment-user"},Is={class:"comment-text"},bs={class:"comment-time"},Ns={key:0,class:"comment-replies"},Ts={class:"comment-avatar"},Us=["src"],Ss={class:"comment-content"},As={class:"comment-user"},Fs={class:"comment-text"},Ds={class:"comment-time"},xs={class:"comment-form"},zs=["data-post-id","onKeyup"],Ms=["onClick"],Vs={class:"load-more"},Rs={key:1,class:"no-more"},Ls={key:0,class:"notification-modal"},Es={class:"modal-content"},Ks={class:"modal-header"},Bs={class:"modal-body"},Hs={key:0,class:"no-notifications"},Os={key:1,class:"notification-list"},qs=["onClick"],js={class:"notification-content"},Gs={class:"notification-time"};function Js(i,s,o,c,n,r){return a(),l("div",N,[t("div",T,[t("div",U,[t("button",{onClick:s[0]||(s[0]=(...e)=>r.goHome&&r.goHome(...e)),class:"home-btn"}," ËøîÂõûÈ¶ñÈ°µ "),s[16]||(s[16]=t("h1",null,"ÈÇªÈáåÂúà",-1))]),t("div",S,[t("button",{onClick:s[1]||(s[1]=(...e)=>r.showNotification&&r.showNotification(...e)),class:"notification-btn"},[s[17]||(s[17]=f(" ÈÄöÁü• ",-1)),n.unreadNotifications>0?(a(),l("span",A,m(n.unreadNotifications),1)):v("",!0)])])]),t("div",F,[t("div",D,[t("img",{src:n.userAvatar,alt:"Áî®Êà∑Â§¥ÂÉè"},null,8,x)]),t("div",z,[y(t("textarea",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.newPost.content=e),placeholder:"ÂàÜ‰∫´‰Ω†ÁöÑÁîüÊ¥ªÁÇπÊª¥...",class:"post-content"},null,512),[[_,n.newPost.content]]),n.newPost.images.length>0?(a(),l("div",M,[(a(!0),l(g,null,p(n.newPost.images,(e,d)=>(a(),l("div",{key:d,class:"image-preview"},[t("img",{src:e,alt:"È¢ÑËßàÂõæ"},null,8,V),t("button",{onClick:u=>r.removeImage(d),class:"remove-image"},"√ó",8,R)]))),128))])):v("",!0),t("div",L,[t("label",E,[t("input",{type:"file",accept:"image/*",multiple:"",onChange:s[3]||(s[3]=(...e)=>r.handleImageUpload&&r.handleImageUpload(...e)),style:{display:"none"}},null,32),s[18]||(s[18]=t("span",{class:"icon"},"üì∑",-1)),s[19]||(s[19]=f(" ‰∏ä‰º†ÂõæÁâá ",-1))]),t("div",K,[s[21]||(s[21]=t("span",{class:"icon"},"üè∑Ô∏è",-1)),y(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>n.selectedTagId=e),class:"tag-select"},[s[20]||(s[20]=t("option",{value:""},"ÈÄâÊã©Ê†áÁ≠æ",-1)),(a(!0),l(g,null,p(n.tags,e=>(a(),l("option",{key:e.id,value:e.id},m(e.name),9,B))),128))],512),[[w,n.selectedTagId]]),t("button",{onClick:s[5]||(s[5]=(...e)=>r.addTag&&r.addTag(...e)),class:"add-tag-btn"},"Ê∑ªÂä†")]),t("div",H,[s[24]||(s[24]=t("span",{class:"icon"},"üîí",-1)),y(t("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>n.newPost.privacy=e),class:"privacy-select"},[...s[22]||(s[22]=[t("option",{value:"public"},"ÂÖ¨ÂºÄ",-1),t("option",{value:"specified_users"},"ÊåáÂÆöÁî®Êà∑ÂèØËßÅ",-1)])],512),[[w,n.newPost.privacy]]),n.newPost.privacy==="specified_users"?(a(),l("div",O,[y(t("select",{"onUpdate:modelValue":s[7]||(s[7]=e=>n.selectedUserId=e),class:"user-select"},[s[23]||(s[23]=t("option",{value:""},"ÈÄâÊã©Áî®Êà∑",-1)),(a(!0),l(g,null,p(n.residents,e=>(a(),l("option",{key:e.id,value:e.id},m(e.name),9,q))),128))],512),[[w,n.selectedUserId]]),t("button",{onClick:s[8]||(s[8]=(...e)=>r.addVisibleUser&&r.addVisibleUser(...e)),class:"add-user-btn"},"Ê∑ªÂä†"),n.newPost.visibleUserIds.length>0?(a(),l("div",j,[(a(!0),l(g,null,p(n.newPost.visibleUserIds,e=>(a(),l("span",{key:e,class:"selected-user"},[f(m(r.getUserName(e))+" ",1),t("button",{onClick:d=>r.removeVisibleUser(e),class:"remove-user"},"√ó",8,G)]))),128))])):v("",!0)])):v("",!0)]),t("button",{onClick:s[9]||(s[9]=(...e)=>r.publishPost&&r.publishPost(...e)),class:"publish-btn"},"ÂèëÂ∏É")])])]),t("div",J,[t("div",Q,[(a(!0),l(g,null,p(n.filters,e=>(a(),l("button",{key:e.value,class:k(["filter-btn",{active:n.currentFilter===e.value}]),onClick:d=>r.setFilter(e.value)},m(e.label),11,W))),128))]),t("div",X,[y(t("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>n.searchKeyword=e),onInput:s[11]||(s[11]=(...e)=>r.handleSearch&&r.handleSearch(...e)),placeholder:"ÊêúÁ¥¢Âä®ÊÄÅ...",class:"search-input"},null,544),[[_,n.searchKeyword]]),t("button",{onClick:s[12]||(s[12]=(...e)=>r.handleSearch&&r.handleSearch(...e)),class:"search-btn"},"ÊêúÁ¥¢")])]),t("div",Y,[(a(!0),l(g,null,p(n.posts,e=>(a(),l("div",{key:e.id,class:"post-item"},[t("div",Z,[t("div",$,[t("div",ss,[t("img",{src:n.userAvatar,alt:"Áî®Êà∑Â§¥ÂÉè"},null,8,es)]),t("div",ts,[t("div",is,m(r.getUserName(e.userId,e)),1),t("div",os,m(r.formatTime(e.createdAt)),1)])]),t("div",{class:"privacy-indicator",title:r.getPrivacyText(e.privacy)},m(e.privacy==="public"?"üåç":"üîí"),9,ns)]),t("div",rs,m(e.content),1),e.images&&e.images.length>0?(a(),l("div",as,[(a(!0),l(g,null,p(e.images,(d,u)=>(a(),l("img",{key:u,src:d.imageUrl,alt:"Âä®ÊÄÅÂõæÁâá",class:"post-image"},null,8,ls))),128))])):v("",!0),e.tags&&e.tags.length>0?(a(),l("div",cs,[(a(!0),l(g,null,p(e.tags,d=>(a(),l("span",{key:d.id,class:"post-tag",onClick:u=>r.filterByTag(d.id)}," #"+m(d.name),9,ds))),128))])):v("",!0),t("div",ms,[t("span",hs,[s[25]||(s[25]=t("span",{class:"icon"},"üëÅÔ∏è",-1)),f(" "+m(e.viewCount),1)]),t("span",us,[s[26]||(s[26]=t("span",{class:"icon"},"‚ù§Ô∏è",-1)),f(" "+m(e.likeCount),1)]),t("span",gs,[s[27]||(s[27]=t("span",{class:"icon"},"üí¨",-1)),f(" "+m(e.commentCount),1)])]),t("div",ps,[t("button",{class:k(["action-btn",{active:r.isLiked(e.id)}]),onClick:d=>r.toggleLike(e.id)},[s[28]||(s[28]=t("span",{class:"icon"},"‚ù§Ô∏è",-1)),f(" "+m(r.isLiked(e.id)?"ÂèñÊ∂àÁÇπËµû":"ÁÇπËµû"),1)],10,vs),t("button",{onClick:d=>r.showComments(e.id),class:"action-btn"},[...s[29]||(s[29]=[t("span",{class:"icon"},"üí¨",-1),f(" ËØÑËÆ∫ ",-1)])],8,fs)]),n.openCommentsPostId===e.id?(a(),l("div",ys,[r.getPostComments(e.id).length>0?(a(),l("div",_s,[(a(!0),l(g,null,p(r.getPostComments(e.id),d=>(a(),l("div",{key:d.id,class:"comment-item"},[t("div",ws,[t("img",{src:n.userAvatar,alt:"Áî®Êà∑Â§¥ÂÉè"},null,8,ks)]),t("div",Ps,[t("div",Cs,m(d.user?d.user.realName||d.user.username:r.getUserName(d.userId)),1),t("div",Is,m(d.content),1),t("div",bs,m(r.formatTime(d.createdAt)),1)]),d.replies&&d.replies.length>0?(a(),l("div",Ns,[(a(!0),l(g,null,p(d.replies,u=>(a(),l("div",{key:u.id,class:"reply-item"},[t("div",Ts,[t("img",{src:n.userAvatar,alt:"Áî®Êà∑Â§¥ÂÉè"},null,8,Us)]),t("div",Ss,[t("div",As,m(u.user?u.user.realName||u.user.username:r.getUserName(u.userId)),1),t("div",Fs,m(u.content),1),t("div",Ds,m(r.formatTime(u.createdAt)),1)])]))),128))])):v("",!0)]))),128))])):v("",!0),t("div",xs,[y(t("input",{"onUpdate:modelValue":s[13]||(s[13]=d=>n.newComment.content=d),"data-post-id":e.id,placeholder:"ÂÜô‰∏ã‰Ω†ÁöÑËØÑËÆ∫...",class:"comment-input",onKeyup:I(d=>r.addComment(e.id),["enter"])},null,40,zs),[[_,n.newComment.content]]),t("button",{onClick:d=>r.addComment(e.id),class:"comment-btn"},"ÂèëÈÄÅ",8,Ms)])])):v("",!0)]))),128))]),t("div",Vs,[n.hasMorePosts?(a(),l("button",{key:0,onClick:s[14]||(s[14]=(...e)=>r.loadMorePosts&&r.loadMorePosts(...e)),class:"load-more-btn"}," Âä†ËΩΩÊõ¥Â§ö ")):(a(),l("div",Rs,"Ê≤°ÊúâÊõ¥Â§öÂä®ÊÄÅ‰∫Ü"))]),n.showNotificationModal?(a(),l("div",Ls,[t("div",Es,[t("div",Ks,[s[30]||(s[30]=t("h3",null,"ÈÄöÁü•",-1)),t("button",{onClick:s[15]||(s[15]=e=>n.showNotificationModal=!1),class:"close-btn"},"√ó")]),t("div",Bs,[n.notifications.length===0?(a(),l("div",Hs," ÊöÇÊó†ÈÄöÁü• ")):(a(),l("div",Os,[(a(!0),l(g,null,p(n.notifications,e=>(a(),l("div",{key:e.id,class:k(["notification-item",{read:e.isRead}]),onClick:d=>r.markNotificationAsRead(e.id)},[t("div",js,m(e.content),1),t("div",Gs,m(r.formatTime(e.createdAt)),1)],10,qs))),128))]))])])])):v("",!0)])}const Xs=P(b,[["render",Js],["__scopeId","data-v-9e8e610c"]]);export{Xs as default};
//# sourceMappingURL=ResidentCommunity-6620a5ee.js.map
